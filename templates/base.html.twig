<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}SmartShop{% endblock %}</title>

    <!-- Bootstrap & FontAwesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Icônes Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="{{ asset('css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ asset('css/datepicker.css') }}">
    <link rel="stylesheet" href="{{ asset('css/animate.min.css') }}">
    <link rel="stylesheet" href="{{ asset('front/css/produit/form-style.css') }}">
    <link rel="stylesheet" href="{{ asset('front/css/produit/commande.css') }}">
    <link rel="stylesheet" href="{{ asset('front/css/produit/shop.css') }}">

    <!-- Encore (Webpack) -->
    {{ encore_entry_link_tags('app') }}

    {% block stylesheets %}{% endblock %}
</head>
<body>

  <!-- Header -->
  <header class="bg-primary text-white py-3 shadow-sm">
    <div class="container d-flex justify-content-between align-items-center">
      <h1 class="h4 m-0">SmartShop</h1>

      <div class="d-flex align-items-center gap-4">
        <!-- Favoris -->
        <a href="{{ path('app_favoris') }}" class="position-relative text-decoration-none text-white">
          <i class="fas fa-heart fa-lg"></i>
          {% set favs = app.session.get('favoris', []) %}
          {% if favs is not empty %}
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
              {{ favs|length }}
            </span>
          {% endif %}
        </a>

        <!-- Panier -->
        <a href="{{ path('app_cart') }}" class="position-relative text-decoration-none text-white">
          <i class="fas fa-shopping-cart fa-lg"></i>
          {% if cartCount is defined and cartCount > 0 %}
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning text-dark">
              {{ cartCount }}
            </span>
          {% endif %}
        </a>
      </div>
    </div>
  </header>

  <!-- Contenu principal -->
  <main class="container mt-4">
    {% block body %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="text-center text-muted py-4 mt-5" style="background-color: #F8F9FA;">
    <div class="container">
      <p class="mb-0">&copy; {{ "now"|date("Y") }} SmartShop. Tous droits réservés.</p>
    </div>
  </footer>

  {% block javascripts %}
    {% block importmap %}{{ importmap('app') }}{% endblock %}
  {% endblock %}

</body>
</html>
