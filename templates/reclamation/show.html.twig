{% extends '/front/index.html.twig' %}

{% block title %}DÃ©tail RÃ©clamation{% endblock %}

{% block body %}
{% include 'front/navbar.html.twig' %}
<div class="container mt-5">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">ðŸ“Œ Sujet : {{ reclamation.Sujet }}</h4>
        </div>
        <div class="card-body">
            <p><strong>Message :</strong> {{ reclamation.Description }}</p>
            <p><strong>Date :</strong> {{ reclamation.DateCreation ? reclamation.DateCreation|date('Y-m-d H:i:s') : '' }}</p>
            <p><strong>Statut :</strong> 
                {% if reclamation.reponses|length > 0 %}
                    <span class="badge bg-success">RÃ©pondu</span>
                {% else %}
                    <span class="badge bg-warning text-dark">En attente</span>
                {% endif %}
            </p>
        </div>
    </div>

    <div class="mt-4">
        <h5 class="mb-3">ðŸ’¬ RÃ©ponses</h5>

        {% if reclamation.reponses is not empty %}
            {% for reponse in reclamation.reponses %}
                <div class="alert alert-secondary animate__animated animate__fadeInUp">
                    <p><strong>RÃ©ponse du {{ reponse.date_Reponse|date('d/m/Y') }} :</strong></p>
                    <p>{{ reponse.Contenu }}</p>
                </div>
            {% endfor %}
        {% else %}
            <p class="text-muted">Aucune rÃ©ponse pour cette rÃ©clamation.</p>
        {% endif %}
    </div>

    <div class="mt-4">
        <a href="{{ path('app_reclamation_index') }}" class="btn btn-secondary">â¬… Retour Ã  la liste</a>
    </div>
</div>
{% endblock %}
